(()=>{var e={9944:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},1378:(e,t,r)=>{var n=r(8759);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},8669:(e,t,r)=>{var n=r(211),o=r(4710),i=r(7826),s=n("unscopables"),a=Array.prototype;null==a[s]&&i.f(a,s,{configurable:!0,value:o(null)}),e.exports=function(e){a[s][e]=!0}},9966:(e,t,r)=>{"use strict";var n=r(3448).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},1855:e=>{e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},6112:(e,t,r)=>{var n=r(8759);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},6198:(e,t,r)=>{var n=r(4088),o=r(4005),i=r(7740),s=function(e){return function(t,r,s){var a,c=n(t),u=o(c.length),l=i(s,u);if(e&&r!=r){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},8939:(e,t,r)=>{var n=r(211)("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},2306:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},375:(e,t,r)=>{var n=r(2371),o=r(2306),i=r(211)("toStringTag"),s="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:s?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}},8474:(e,t,r)=>{var n=r(3167),o=r(6095),i=r(4399),s=r(7826);e.exports=function(e,t){for(var r=o(t),a=s.f,c=i.f,u=0;u<r.length;u++){var l=r[u];n(e,l)||a(e,l,c(t,l))}}},7209:(e,t,r)=>{var n=r(3677);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},471:(e,t,r)=>{"use strict";var n=r(3083).IteratorPrototype,o=r(4710),i=r(5736),s=r(914),a=r(7719),c=function(){return this};e.exports=function(e,t,r){var u=t+" Iterator";return e.prototype=o(n,{next:i(1,r)}),s(e,u,!1,!0),a[u]=c,e}},2585:(e,t,r)=>{var n=r(5283),o=r(7826),i=r(5736);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},5736:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8432:(e,t,r)=>{"use strict";var n=r(1695),o=r(471),i=r(2130),s=r(7530),a=r(914),c=r(2585),u=r(1007),l=r(211),f=r(3296),p=r(7719),h=r(3083),d=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,v=l("iterator"),m="keys",b="values",y="entries",x=function(){return this};e.exports=function(e,t,r,l,h,w,S){o(r,t,l);var E,O,T,C=function(e){if(e===h&&A)return A;if(!g&&e in j)return j[e];switch(e){case m:case b:case y:return function(){return new r(this,e)}}return function(){return new r(this)}},I=t+" Iterator",P=!1,j=e.prototype,k=j[v]||j["@@iterator"]||h&&j[h],A=!g&&k||C(h),F="Array"==t&&j.entries||k;if(F&&(E=i(F.call(new e)),d!==Object.prototype&&E.next&&(f||i(E)===d||(s?s(E,d):"function"!=typeof E[v]&&c(E,v,x)),a(E,I,!0,!0),f&&(p[I]=x))),h==b&&k&&k.name!==b&&(P=!0,A=function(){return k.call(this)}),f&&!S||j[v]===A||c(j,v,A),p[t]=A,h)if(O={values:C(b),keys:w?A:C(m),entries:C(y)},S)for(T in O)(g||P||!(T in j))&&u(j,T,O[T]);else n({target:t,proto:!0,forced:g||P},O);return O}},5283:(e,t,r)=>{var n=r(3677);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},821:(e,t,r)=>{var n=r(2086),o=r(8759),i=n.document,s=o(i)&&o(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},4344:(e,t,r)=>{var n=r(4999);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},1801:(e,t,r)=>{var n=r(2306),o=r(2086);e.exports="process"==n(o.process)},4928:(e,t,r)=>{var n=r(4999);e.exports=/web0s(?!.*chrome)/i.test(n)},4999:(e,t,r)=>{var n=r(563);e.exports=n("navigator","userAgent")||""},1448:(e,t,r)=>{var n,o,i=r(2086),s=r(4999),a=i.process,c=a&&a.versions,u=c&&c.v8;u?o=(n=u.split("."))[0]+n[1]:s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(o=n[1]),e.exports=o&&+o},8684:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1695:(e,t,r)=>{var n=r(2086),o=r(4399).f,i=r(2585),s=r(1007),a=r(3648),c=r(8474),u=r(7189);e.exports=function(e,t){var r,l,f,p,h,d=e.target,g=e.global,v=e.stat;if(r=g?n:v?n[d]||a(d,{}):(n[d]||{}).prototype)for(l in t){if(p=t[l],f=e.noTargetGet?(h=o(r,l))&&h.value:r[l],!u(g?l:d+(v?".":"#")+l,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),s(r,l,p,e)}}},3677:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},2331:(e,t,r)=>{"use strict";r(2077);var n=r(1007),o=r(3677),i=r(211),s=r(4861),a=r(2585),c=i("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l="$0"==="a".replace(/./,"$0"),f=i("replace"),p=!!/./[f]&&""===/./[f]("a","$0"),h=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,f){var d=i(e),g=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),v=g&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!g||!v||"replace"===e&&(!u||!l||p)||"split"===e&&!h){var m=/./[d],b=r(d,""[e],(function(e,t,r,n,o){return t.exec===s?g&&!o?{done:!0,value:m.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),y=b[0],x=b[1];n(String.prototype,e,y),n(RegExp.prototype,d,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}f&&a(RegExp.prototype[d],"sham",!0)}},8516:(e,t,r)=>{var n=r(9944);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},563:(e,t,r)=>{var n=r(9775),o=r(2086),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},1667:(e,t,r)=>{var n=r(375),o=r(7719),i=r(211)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},8509:(e,t,r)=>{var n=r(3060),o=Math.floor,i="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,a=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,c,u,l){var f=r+e.length,p=c.length,h=a;return void 0!==u&&(u=n(u),h=s),i.call(l,h,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(f);case"<":s=u[i.slice(1,-1)];break;default:var a=+i;if(0===a)return n;if(a>p){var l=o(a/10);return 0===l?n:l<=p?void 0===c[l-1]?i.charAt(1):c[l-1]+i.charAt(1):n}s=c[a-1]}return void 0===s?"":s}))}},2086:e=>{var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},3167:e=>{var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},7153:e=>{e.exports={}},1670:(e,t,r)=>{var n=r(2086);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},5963:(e,t,r)=>{var n=r(563);e.exports=n("document","documentElement")},6761:(e,t,r)=>{var n=r(5283),o=r(3677),i=r(821);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},5974:(e,t,r)=>{var n=r(3677),o=r(2306),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},9277:(e,t,r)=>{var n=r(4489),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},3278:(e,t,r)=>{var n,o,i,s=r(9316),a=r(2086),c=r(8759),u=r(2585),l=r(3167),f=r(4489),p=r(8944),h=r(7153),d=a.WeakMap;if(s){var g=f.state||(f.state=new d),v=g.get,m=g.has,b=g.set;n=function(e,t){return t.facade=e,b.call(g,e,t),t},o=function(e){return v.call(g,e)||{}},i=function(e){return m.call(g,e)}}else{var y=p("state");h[y]=!0,n=function(e,t){return t.facade=e,u(e,y,t),t},o=function(e){return l(e,y)?e[y]:{}},i=function(e){return l(e,y)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},2814:(e,t,r)=>{var n=r(211),o=r(7719),i=n("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||s[i]===e)}},7189:(e,t,r)=>{var n=r(3677),o=/#|\.prototype\./,i=function(e,t){var r=a[s(e)];return r==u||r!=c&&("function"==typeof t?n(t):!!t)},s=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},a=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},8759:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},3296:e=>{e.exports=!1},4722:(e,t,r)=>{var n=r(6112),o=r(2814),i=r(4005),s=r(8516),a=r(1667),c=r(6737),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var l,f,p,h,d,g,v,m=r&&r.that,b=!(!r||!r.AS_ENTRIES),y=!(!r||!r.IS_ITERATOR),x=!(!r||!r.INTERRUPTED),w=s(t,m,1+b+x),S=function(e){return l&&c(l),new u(!0,e)},E=function(e){return b?(n(e),x?w(e[0],e[1],S):w(e[0],e[1])):x?w(e,S):w(e)};if(y)l=e;else{if("function"!=typeof(f=a(e)))throw TypeError("Target is not iterable");if(o(f)){for(p=0,h=i(e.length);h>p;p++)if((d=E(e[p]))&&d instanceof u)return d;return new u(!1)}l=f.call(e)}for(g=l.next;!(v=g.call(l)).done;){try{d=E(v.value)}catch(e){throw c(l),e}if("object"==typeof d&&d&&d instanceof u)return d}return new u(!1)}},6737:(e,t,r)=>{var n=r(6112);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},3083:(e,t,r)=>{"use strict";var n,o,i,s=r(3677),a=r(2130),c=r(2585),u=r(3167),l=r(211),f=r(3296),p=l("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(n=o):h=!0);var d=null==n||s((function(){var e={};return n[p].call(e)!==e}));d&&(n={}),f&&!d||u(n,p)||c(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},7719:e=>{e.exports={}},3173:(e,t,r)=>{var n,o,i,s,a,c,u,l,f=r(2086),p=r(4399).f,h=r(4953).set,d=r(4344),g=r(4928),v=r(1801),m=f.MutationObserver||f.WebKitMutationObserver,b=f.document,y=f.process,x=f.Promise,w=p(f,"queueMicrotask"),S=w&&w.value;S||(n=function(){var e,t;for(v&&(e=y.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?s():i=void 0,e}}i=void 0,e&&e.enter()},d||v||g||!m||!b?x&&x.resolve?(u=x.resolve(void 0),l=u.then,s=function(){l.call(u,n)}):s=v?function(){y.nextTick(n)}:function(){h.call(f,n)}:(a=!0,c=b.createTextNode(""),new m(n).observe(c,{characterData:!0}),s=function(){c.data=a=!a})),e.exports=S||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,s()),i=t}},8109:(e,t,r)=>{var n=r(2086);e.exports=n.Promise},3193:(e,t,r)=>{var n=r(1801),o=r(1448),i=r(3677);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!Symbol.sham&&(n?38===o:o>37&&o<41)}))},9316:(e,t,r)=>{var n=r(2086),o=r(9277),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},8722:(e,t,r)=>{"use strict";var n=r(9944),o=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new o(e)}},4710:(e,t,r)=>{var n,o=r(6112),i=r(7711),s=r(8684),a=r(7153),c=r(5963),u=r(821),l=r(8944)("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"<\/script>"},h=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;h=n?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var r=s.length;r--;)delete h.prototype[s[r]];return h()};a[l]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f.prototype=o(e),r=new f,f.prototype=null,r[l]=e):r=h(),void 0===t?r:i(r,t)}},7711:(e,t,r)=>{var n=r(5283),o=r(7826),i=r(6112),s=r(8779);e.exports=n?Object.defineProperties:function(e,t){i(e);for(var r,n=s(t),a=n.length,c=0;a>c;)o.f(e,r=n[c++],t[r]);return e}},7826:(e,t,r)=>{var n=r(5283),o=r(6761),i=r(6112),s=r(1288),a=Object.defineProperty;t.f=n?a:function(e,t,r){if(i(e),t=s(t,!0),i(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},4399:(e,t,r)=>{var n=r(5283),o=r(7446),i=r(5736),s=r(4088),a=r(1288),c=r(3167),u=r(6761),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=s(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(c(e,t))return i(!o.f.call(e,t),e[t])}},62:(e,t,r)=>{var n=r(1352),o=r(8684).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},6952:(e,t)=>{t.f=Object.getOwnPropertySymbols},2130:(e,t,r)=>{var n=r(3167),o=r(3060),i=r(8944),s=r(7209),a=i("IE_PROTO"),c=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=o(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},1352:(e,t,r)=>{var n=r(3167),o=r(4088),i=r(6198).indexOf,s=r(7153);e.exports=function(e,t){var r,a=o(e),c=0,u=[];for(r in a)!n(s,r)&&n(a,r)&&u.push(r);for(;t.length>c;)n(a,r=t[c++])&&(~i(u,r)||u.push(r));return u}},8779:(e,t,r)=>{var n=r(1352),o=r(8684);e.exports=Object.keys||function(e){return n(e,o)}},7446:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},7530:(e,t,r)=>{var n=r(6112),o=r(1378);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,i){return n(r),o(i),t?e.call(r,i):r.__proto__=i,r}}():void 0)},6095:(e,t,r)=>{var n=r(563),o=r(62),i=r(6952),s=r(6112);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(s(e)),r=i.f;return r?t.concat(r(e)):t}},9775:(e,t,r)=>{var n=r(2086);e.exports=n},4522:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},880:(e,t,r)=>{var n=r(6112),o=r(8759),i=r(8722);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},9431:(e,t,r)=>{var n=r(1007);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},1007:(e,t,r)=>{var n=r(2086),o=r(2585),i=r(3167),s=r(3648),a=r(9277),c=r(3278),u=c.get,l=c.enforce,f=String(String).split("String");(e.exports=function(e,t,r,a){var c,u=!!a&&!!a.unsafe,p=!!a&&!!a.enumerable,h=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof t||i(r,"name")||o(r,"name",t),(c=l(r)).source||(c.source=f.join("string"==typeof t?t:""))),e!==n?(u?!h&&e[t]&&(p=!0):delete e[t],p?e[t]=r:o(e,t,r)):p?e[t]=r:s(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},1189:(e,t,r)=>{var n=r(2306),o=r(4861);e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var i=r.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},4861:(e,t,r)=>{"use strict";var n,o,i=r(4276),s=r(4930),a=RegExp.prototype.exec,c=String.prototype.replace,u=a,l=(n=/a/,o=/b*/g,a.call(n,"a"),a.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),f=s.UNSUPPORTED_Y||s.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(l||p||f)&&(u=function(e){var t,r,n,o,s=this,u=f&&s.sticky,h=i.call(s),d=s.source,g=0,v=e;return u&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),v=String(e).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==e[s.lastIndex-1])&&(d="(?: "+d+")",v=" "+v,g++),r=new RegExp("^(?:"+d+")",h)),p&&(r=new RegExp("^"+d+"$(?!\\s)",h)),l&&(t=s.lastIndex),n=a.call(u?r:s,v),u?n?(n.input=n.input.slice(g),n[0]=n[0].slice(g),n.index=s.lastIndex,s.lastIndex+=n[0].length):s.lastIndex=0:l&&n&&(s.lastIndex=s.global?n.index+n[0].length:t),p&&n&&n.length>1&&c.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),e.exports=u},4276:(e,t,r)=>{"use strict";var n=r(6112);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},4930:(e,t,r)=>{"use strict";var n=r(3677);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},9586:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3648:(e,t,r)=>{var n=r(2086),o=r(2585);e.exports=function(e,t){try{o(n,e,t)}catch(r){n[e]=t}return t}},7420:(e,t,r)=>{"use strict";var n=r(563),o=r(7826),i=r(211),s=r(5283),a=i("species");e.exports=function(e){var t=n(e),r=o.f;s&&t&&!t[a]&&r(t,a,{configurable:!0,get:function(){return this}})}},914:(e,t,r)=>{var n=r(7826).f,o=r(3167),i=r(211)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},8944:(e,t,r)=>{var n=r(9197),o=r(5422),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},4489:(e,t,r)=>{var n=r(2086),o=r(3648),i="__core-js_shared__",s=n[i]||o(i,{});e.exports=s},9197:(e,t,r)=>{var n=r(3296),o=r(4489);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.1",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},8515:(e,t,r)=>{var n=r(6112),o=r(9944),i=r(211)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||null==(r=n(s)[i])?t:o(r)}},3448:(e,t,r)=>{var n=r(9679),o=r(9586),i=function(e){return function(t,r){var i,s,a=String(o(t)),c=n(r),u=a.length;return c<0||c>=u?e?"":void 0:(i=a.charCodeAt(c))<55296||i>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):i:e?a.slice(c,c+2):s-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},4953:(e,t,r)=>{var n,o,i,s=r(2086),a=r(3677),c=r(8516),u=r(5963),l=r(821),f=r(4344),p=r(1801),h=s.location,d=s.setImmediate,g=s.clearImmediate,v=s.process,m=s.MessageChannel,b=s.Dispatch,y=0,x={},w=function(e){if(x.hasOwnProperty(e)){var t=x[e];delete x[e],t()}},S=function(e){return function(){w(e)}},E=function(e){w(e.data)},O=function(e){s.postMessage(e+"",h.protocol+"//"+h.host)};d&&g||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return x[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(y),y},g=function(e){delete x[e]},p?n=function(e){v.nextTick(S(e))}:b&&b.now?n=function(e){b.now(S(e))}:m&&!f?(i=(o=new m).port2,o.port1.onmessage=E,n=c(i.postMessage,i,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&h&&"file:"!==h.protocol&&!a(O)?(n=O,s.addEventListener("message",E,!1)):n="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),w(e)}}:function(e){setTimeout(S(e),0)}),e.exports={set:d,clear:g}},7740:(e,t,r)=>{var n=r(9679),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},4088:(e,t,r)=>{var n=r(5974),o=r(9586);e.exports=function(e){return n(o(e))}},9679:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},4005:(e,t,r)=>{var n=r(9679),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},3060:(e,t,r)=>{var n=r(9586);e.exports=function(e){return Object(n(e))}},1288:(e,t,r)=>{var n=r(8759);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},2371:(e,t,r)=>{var n={};n[r(211)("toStringTag")]="z",e.exports="[object z]"===String(n)},5422:e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},1876:(e,t,r)=>{var n=r(3193);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},211:(e,t,r)=>{var n=r(2086),o=r(9197),i=r(3167),s=r(5422),a=r(3193),c=r(1876),u=o("wks"),l=n.Symbol,f=c?l:l&&l.withoutSetter||s;e.exports=function(e){return i(u,e)&&(a||"string"==typeof u[e])||(a&&i(l,e)?u[e]=l[e]:u[e]=f("Symbol."+e)),u[e]}},5769:(e,t,r)=>{"use strict";var n=r(4088),o=r(8669),i=r(7719),s=r(3278),a=r(8432),c="Array Iterator",u=s.set,l=s.getterFor(c);e.exports=a(Array,"Array",(function(e,t){u(this,{type:c,target:n(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},1418:(e,t,r)=>{"use strict";var n,o,i,s,a=r(1695),c=r(3296),u=r(2086),l=r(563),f=r(8109),p=r(1007),h=r(9431),d=r(914),g=r(7420),v=r(8759),m=r(9944),b=r(1855),y=r(9277),x=r(4722),w=r(8939),S=r(8515),E=r(4953).set,O=r(3173),T=r(880),C=r(1670),I=r(8722),P=r(4522),j=r(3278),k=r(7189),A=r(211),F=r(1801),M=r(1448),D=A("species"),R="Promise",_=j.get,U=j.set,$=j.getterFor(R),N=f,W=u.TypeError,B=u.document,L=u.process,V=l("fetch"),z=I.f,q=z,G=!!(B&&B.createEvent&&u.dispatchEvent),Y="function"==typeof PromiseRejectionEvent,K="unhandledrejection",Z=k(R,(function(){if(y(N)===String(N)){if(66===M)return!0;if(!F&&!Y)return!0}if(c&&!N.prototype.finally)return!0;if(M>=51&&/native code/.test(N))return!1;var e=N.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[D]=t,!(e.then((function(){}))instanceof t)})),X=Z||!w((function(e){N.all(e).catch((function(){}))})),H=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},J=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;O((function(){for(var n=e.value,o=1==e.state,i=0;r.length>i;){var s,a,c,u=r[i++],l=o?u.ok:u.fail,f=u.resolve,p=u.reject,h=u.domain;try{l?(o||(2===e.rejection&&re(e),e.rejection=1),!0===l?s=n:(h&&h.enter(),s=l(n),h&&(h.exit(),c=!0)),s===u.promise?p(W("Promise-chain cycle")):(a=H(s))?a.call(s,f,p):f(s)):p(n)}catch(e){h&&!c&&h.exit(),p(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ee(e)}))}},Q=function(e,t,r){var n,o;G?((n=B.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),u.dispatchEvent(n)):n={promise:t,reason:r},!Y&&(o=u["on"+e])?o(n):e===K&&C("Unhandled promise rejection",r)},ee=function(e){E.call(u,(function(){var t,r=e.facade,n=e.value;if(te(e)&&(t=P((function(){F?L.emit("unhandledRejection",n,r):Q(K,r,n)})),e.rejection=F||te(e)?2:1,t.error))throw t.value}))},te=function(e){return 1!==e.rejection&&!e.parent},re=function(e){E.call(u,(function(){var t=e.facade;F?L.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},ne=function(e,t,r){return function(n){e(t,n,r)}},oe=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,J(e,!0))},ie=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw W("Promise can't be resolved itself");var n=H(t);n?O((function(){var r={done:!1};try{n.call(t,ne(ie,r,e),ne(oe,r,e))}catch(t){oe(r,t,e)}})):(e.value=t,e.state=1,J(e,!1))}catch(t){oe({done:!1},t,e)}}};Z&&(N=function(e){b(this,N,R),m(e),n.call(this);var t=_(this);try{e(ne(ie,t),ne(oe,t))}catch(e){oe(t,e)}},(n=function(e){U(this,{type:R,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(N.prototype,{then:function(e,t){var r=$(this),n=z(S(this,N));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=F?L.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&J(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n,t=_(e);this.promise=e,this.resolve=ne(ie,t),this.reject=ne(oe,t)},I.f=z=function(e){return e===N||e===i?new o(e):q(e)},c||"function"!=typeof f||(s=f.prototype.then,p(f.prototype,"then",(function(e,t){var r=this;return new N((function(e,t){s.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return T(N,V.apply(u,arguments))}}))),a({global:!0,wrap:!0,forced:Z},{Promise:N}),d(N,R,!1,!0),g(R),i=l(R),a({target:R,stat:!0,forced:Z},{reject:function(e){var t=z(this);return t.reject.call(void 0,e),t.promise}}),a({target:R,stat:!0,forced:c||Z},{resolve:function(e){return T(c&&this===i?N:this,e)}}),a({target:R,stat:!0,forced:X},{all:function(e){var t=this,r=z(t),n=r.resolve,o=r.reject,i=P((function(){var r=m(t.resolve),i=[],s=0,a=1;x(e,(function(e){var c=s++,u=!1;i.push(void 0),a++,r.call(t,e).then((function(e){u||(u=!0,i[c]=e,--a||n(i))}),o)})),--a||n(i)}));return i.error&&o(i.value),r.promise},race:function(e){var t=this,r=z(t),n=r.reject,o=P((function(){var o=m(t.resolve);x(e,(function(e){o.call(t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}})},2077:(e,t,r)=>{"use strict";var n=r(1695),o=r(4861);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},911:(e,t,r)=>{"use strict";var n=r(2331),o=r(6112),i=r(4005),s=r(9679),a=r(9586),c=r(9966),u=r(8509),l=r(1189),f=Math.max,p=Math.min;n("replace",2,(function(e,t,r,n){var h=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,d=n.REPLACE_KEEPS_$0,g=h?"$":"$0";return[function(r,n){var o=a(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,o,n):t.call(String(o),r,n)},function(e,n){if(!h&&d||"string"==typeof n&&-1===n.indexOf(g)){var a=r(t,e,this,n);if(a.done)return a.value}var v=o(e),m=String(this),b="function"==typeof n;b||(n=String(n));var y=v.global;if(y){var x=v.unicode;v.lastIndex=0}for(var w=[];;){var S=l(v,m);if(null===S)break;if(w.push(S),!y)break;""===String(S[0])&&(v.lastIndex=c(m,i(v.lastIndex),x))}for(var E,O="",T=0,C=0;C<w.length;C++){S=w[C];for(var I=String(S[0]),P=f(p(s(S.index),m.length),0),j=[],k=1;k<S.length;k++)j.push(void 0===(E=S[k])?E:String(E));var A=S.groups;if(b){var F=[I].concat(j,P,m);void 0!==A&&F.push(A);var M=String(n.apply(void 0,F))}else M=u(I,m,P,j,A,n);P>=T&&(O+=m.slice(T,P)+M,T=P+I.length)}return O+m.slice(T)}]}))},2189:(e,t,r)=>{"use strict";var n=r(1695),o=r(5283),i=r(2086),s=r(3167),a=r(8759),c=r(7826).f,u=r(8474),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new l(e):void 0===e?l():l(e);return""===e&&(f[t]=!0),t};u(p,l);var h=p.prototype=l.prototype;h.constructor=p;var d=h.toString,g="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;c(h,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=d.call(e);if(s(f,e))return"";var r=g?t.slice(7,-1):t.replace(v,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},8018:e=>{"use strict";e.exports=e=>{if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return!/^[a-zA-Z]:\\/.test(e)&&/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e)}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{activate:()=>W}),r(1418);const e=require("vscode");var t=r.n(e),o=r(8018),i=r.n(o);r(2189);class s{constructor(t,r,n,o=e.TreeItemCollapsibleState.Collapsed){var i,s;this.parent=r,s=void 0,(i="treeItem")in this?Object.defineProperty(this,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[i]=s,this.treeItem=new e.TreeItem(t,o),this.treeItem.description=n}getFullPath(){return""}}class a extends s{constructor(t,r,n,o,i){let s;super(t.length>0?t:"(index)",o,r,e.TreeItemCollapsibleState.None),this.treeItem.contextValue="file",s=n.path?n.path:`debug:${encodeURIComponent(n.url)}?session=${encodeURIComponent(i)}&ref=${n.sourceId}`,this.treeItem.command={command:"extension.firefox.openScript",arguments:[s],title:""}}getChildren(){return[]}getFullPath(){return this.parent.getFullPath()+this.treeItem.label}}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends s{constructor(e,t){super(e,t),c(this,"children",[])}addSource(e,t,r,n,o){if(0===t.length)return this.addChild(new a(e,r,n,this,o)),this;let i=this.children.findIndex((e=>e instanceof f&&e.path[0]===t[0]));if(i<0){let i=new f(t,this);return i.addSource(e,[],r,n,o),this.addChild(i),this}let s=this.children[i],c=t.findIndex(((e,t)=>t>=s.path.length||s.path[t]!==e));c<0&&(c=t.length);let u=t.slice(c);return c===s.path.length?s.addSource(e,u,r,n,o):(s.split(c),s.addSource(e,u,r,n,o),s)}getChildren(){return this.treeItem.collapsibleState=e.TreeItemCollapsibleState.Expanded,this.children}addChild(e){let t;t=e instanceof f?this.children.findIndex((t=>!(t instanceof f&&t.treeItem.label<e.treeItem.label))):this.children.findIndex((t=>t instanceof a&&t.treeItem.label>=e.treeItem.label)),t>=0?this.children[t].treeItem.label!==e.treeItem.label&&this.children.splice(t,0,e):this.children.push(e)}}class l extends u{constructor(e,t){super(e.name,t),c(this,"id",void 0),this.id=e.id,this.treeItem.contextValue="thread"}removeSources(){return this.children=[],this}}class f extends u{constructor(e,t){super(e.join("/"),t),this.path=e,this.treeItem.contextValue="directory"}split(e){let t=new f(this.path.slice(e),this);t.children=this.children,t.children.map((e=>e.parent=t)),this.path.splice(e),this.children=[t],this.treeItem.label=this.path.join("/")}getFullPath(){return this.parent.getFullPath()+this.treeItem.label+"/"}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h extends s{get id(){return this.session.id}constructor(e,t){super(e.name,t),this.session=e,p(this,"children",[]),p(this,"showThreads",!1),p(this,"sourceUrls",[]),this.treeItem.contextValue="session"}addThread(e){if(!this.children.some((t=>t.id===e.id))){let t=this.children.findIndex((t=>t.treeItem.label>e.name));return t<0&&(t=this.children.length),this.children.splice(t,0,new l(e,this)),this}}removeThread(e){return this.children=this.children.filter((t=>t.id!==e)),this}addSource(e){if(!e.url)return;this.sourceUrls.push(e.url);let t=this.children.find((t=>t.id===e.threadId));if(t){let r,n=function(e){let t,r=e.indexOf(":");r>=0?(r++,"/"===e[r]&&r++,"/"===e[r]&&r++,t=e.indexOf("/",r)):t=0;let n=e.indexOf("?",t);n<0&&(n=e.length);let o=e.substr(0,t),i=e.substr(n),s=e.substring(t,n).split("/");return s[0]=o+s[0],s[s.length-1]+=i,s}(e.url),o=n.pop();if(e.path){if(r=e.path,this.session.workspaceFolder){const e=this.session.workspaceFolder.uri;let t="file"===e.scheme?e.fsPath:e.toString();t+="/",r.startsWith(t)&&(r=r.substring(t.length))}r=` → ${r}`}return this.fixChangedItem(t.addSource(o,n,r,e,this.id))}}removeSources(e){this.sourceUrls=[];let t=this.children.find((t=>t.id===e));return t?t.removeSources():void 0}getSourceUrls(){return this.sourceUrls}getChildren(){return this.treeItem.collapsibleState=e.TreeItemCollapsibleState.Expanded,this.showThreads||this.children.length>1?(this.showThreads=!0,this.children):1==this.children.length?this.children[0].getChildren():[]}fixChangedItem(e){if(e)return!this.showThreads&&e instanceof l?this:e}}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends s{constructor(){super(""),d(this,"children",[]),d(this,"showSessions",!1),this.treeItem.contextValue="root"}addSession(e){if(!this.children.some((t=>t.id===e.id))){let t=this.children.findIndex((t=>t.treeItem.label>e.name));return t<0&&(t=this.children.length),this.children.splice(t,0,new h(e,this)),this}}removeSession(e){return this.children=this.children.filter((t=>t.id!==e)),this}addThread(e,t){let r=this.children.find((e=>e.id===t));return r?this.fixChangedItem(r.addThread(e)):void 0}removeThread(e,t){let r=this.children.find((e=>e.id===t));return r?this.fixChangedItem(r.removeThread(e)):void 0}addSource(e,t){let r=this.children.find((e=>e.id===t));return r?this.fixChangedItem(r.addSource(e)):void 0}removeSources(e,t){let r=this.children.find((e=>e.id===t));return r?this.fixChangedItem(r.removeSources(e)):void 0}getSourceUrls(e){const t=this.children.find((t=>t.id===e));return t?t.getSourceUrls():void 0}getChildren(){return this.treeItem.collapsibleState=e.TreeItemCollapsibleState.Expanded,this.showSessions||this.children.length>1?(this.showSessions=!0,this.children):1==this.children.length?this.children[0].getChildren():[]}fixChangedItem(e){if(e)return!this.showSessions&&e instanceof h?this:e}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class m{constructor(){v(this,"root",new g),v(this,"treeDataChanged",new e.EventEmitter),v(this,"onDidChangeTreeData",void 0),this.onDidChangeTreeData=this.treeDataChanged.event}getTreeItem(e){return e.treeItem}getChildren(e){return(e||this.root).getChildren()}addSession(e){let t=this.root.addSession(e);this.sendTreeDataChangedEvent(t)}removeSession(e){let t=this.root.removeSession(e);this.sendTreeDataChangedEvent(t)}addThread(e,t){let r=this.root.addThread(e,t);this.sendTreeDataChangedEvent(r)}removeThread(e,t){let r=this.root.removeThread(e,t);this.sendTreeDataChangedEvent(r)}addSource(e,t){let r=this.root.addSource(e,t);this.sendTreeDataChangedEvent(r)}removeSources(e,t){let r=this.root.removeSources(e,t);this.sendTreeDataChangedEvent(r)}getSourceUrls(e){return this.root.getSourceUrls(e)}sendTreeDataChangedEvent(e){e&&(e===this.root?this.treeDataChanged.fire():this.treeDataChanged.fire(e))}}r(5769);const b=require("path");var y=r.n(b);async function x(t){const r=S();if(!r)return;const n=await e.window.showOpenDialog({canSelectFiles:"file"===t.treeItem.contextValue,canSelectFolders:"directory"===t.treeItem.contextValue,canSelectMany:!1,defaultUri:r.workspaceFolder.uri,openLabel:"Map to this "+t.treeItem.contextValue});if(!n||0===n.length)return;let o="file"===n[0].scheme?n[0].fsPath:n[0].toString();"directory"===t.treeItem.contextValue&&(o+="/"),await O(r,t.getFullPath(),o)&&(await T(r.workspaceFolder),e.window.showWarningMessage("Configuration was modified - please restart your debug session for the changes to take effect"))}async function w(t){const r=S();r&&await O(r,t.getFullPath(),null)&&(await T(r.workspaceFolder),e.window.showWarningMessage("Configuration was modified - please restart your debug session for the changes to take effect"))}function S(){const t=e.debug.activeDebugSession;if(!t)return void e.window.showErrorMessage("No active debug session");const r=e.workspace.workspaceFolders;if(!r)return void e.window.showErrorMessage("No open folder");const n=E(r,t);return n||e.window.showErrorMessage(`Couldn't find configuration for active debug session '${t.name}'`),n}function E(t,r){for(const n of t){const t=e.workspace.getConfiguration("launch",n.uri),o=t.get("configurations");if(o)for(let e=0;e<o.length;e++)if(o[e].type===r.type&&o[e].name===r.name)return{workspaceFolder:n,launchConfigFile:t,index:e}}}async function O(t,r,n){const o=t.launchConfigFile.get("configurations"),i=o[t.index];i.pathMappings||(i.pathMappings=[]);const s=t.workspaceFolder.uri.fsPath;n&&n.startsWith(s)&&(n="${workspaceFolder}"+n.substr(s.length)),i.pathMappings.unshift({url:r,path:n});try{return await t.launchConfigFile.update("configurations",o,e.ConfigurationTarget.WorkspaceFolder),!0}catch(t){return e.window.showErrorMessage(t.message),!1}}async function T(t){const r=t.uri.with({path:b.posix.join(t.uri.path,".vscode/launch.json")}),n=await e.workspace.openTextDocument(r);await e.window.showTextDocument(n)}class C{constructor(e){var t,r;this.sendCustomRequest=e,r=void 0,(t="button")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}async setPopupAutohide(e){await this.sendCustomRequest("setPopupAutohide",e.toString()),this.setButtonText(e)}async togglePopupAutohide(){const e=await this.sendCustomRequest("togglePopupAutohide");this.setButtonText(e)}enableButton(t){this.button||(this.button=e.window.createStatusBarItem(e.StatusBarAlignment.Left),this.button.command="extension.firefox.togglePopupAutohide",this.button.text="",this.button.show()),this.setButtonText(t)}disableButton(){this.button&&(this.button.dispose(),this.button=void 0)}setButtonText(e){this.button&&(this.button.text="Popup auto-hide "+(e?"enabled":"disabled"))}}r(911);const I=require("url");async function P(e,t,r){const n=[];for(const e of t)try{n.push(new I.URL(e))}catch(e){}const o=function(e,t){const r=D(e).path.split("/"),n=r.pop();let o,i=-1;for(const e of t){const t=e.pathname.split("/");if(t.pop()!==n)continue;let s=0;for(;r.length>0&&t.length>0&&r.pop()===t.pop();)s++;s>i&&(o=e,i=s)}return o}(e,n);if(!o)return;const i=await async function(e,t,r){let n={url:t.protocol+"//"+t.host+t.pathname,path:e};for(;;){const e=j(n);if(!e||!await k(e,r))return n;n=e}}(e,o,n);if(r){const e=R(r.uri);i.path.startsWith(e)&&(i.path="${workspaceFolder}"+i.path.substring(e.length))}return i.path=i.path.replace(/\\/g,"/"),i}function j(e){const t=e.url.substring(e.url.lastIndexOf("/")+1),r=M(e.path)?"\\":"/";if(""!==t&&e.path.endsWith(r+t))return{url:e.url.substring(0,e.url.length-t.length-1),path:e.path.substring(0,e.path.length-t.length-1)}}async function k(e,r){for(let n=0;n<r.length;){const o=r[n],i=A(o.protocol+"//"+o.host+o.pathname,e);if(i)try{await t().workspace.fs.stat(D(i)),r.splice(n,1)}catch(e){return!1}else n++}return!0}function A(e,t){if(e.startsWith(t.url)){let r=t.path+e.substring(t.url.length);return M(r)?y().normalize(r):r}}const F=/^[a-zA-Z]:\\/;function M(e){return F.test(e)}function D(e){return M(e)?t().Uri.file(e):t().Uri.parse(e)}function R(e){return"file"===e.scheme?e.fsPath:e.toString()}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const $="${workspaceFolder}";class N{resolveDebugConfiguration(e,t){return t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t),this.overrideFromSettings(e,t),t.url&&!t.webRoot&&!t.pathMappings&&e&&(t.webRoot=R(e.uri)),e&&"vscode-remote"===e.uri.scheme&&(this.resolveWorkspaceFolder(e,t),this.checkLocal(t)),t}overrideFromSettings(t,r){const n=e.workspace.getConfiguration("firefox",t?t.uri:null),o=this.getSetting(n,"executable");o&&(r.firefoxExecutable=o);const i=this.getSetting(n,"args");i&&(r.firefoxArgs=i);const s=this.getSetting(n,"profileDir");s&&(r.profileDir=s);const a=this.getSetting(n,"profile");a&&(r.profile=a);const c=this.getSetting(n,"keepProfileChanges");void 0!==c&&(r.keepProfileChanges=c);const u=this.getSetting(n,"port");void 0!==u&&(r.port=u)}getSetting(e,t){const r=e.inspect(t);if(r)return void 0!==r.workspaceFolderValue?r.workspaceFolderValue:void 0!==r.workspaceValue?r.workspaceValue:void 0!==r.globalValue?r.globalValue:void 0}resolveWorkspaceFolder(e,t){const r=e.uri.toString();if(t.webRoot&&(t.webRoot=t.webRoot.replace($,r)),t.pathMappings){const e=[];for(const n of t.pathMappings)n.path?e.push({url:n.url,path:n.path.replace($,r)}):e.push(n);t.pathMappings=e}}checkLocal(e){function t(e){return function(t){if(t.indexOf($)>=0)throw new Error(e)}}if(e.reloadOnChange){const r=t("The debug adapter can't watch files in a remote workspace for changes");"string"==typeof e.reloadOnChange?r(e.reloadOnChange):Array.isArray(e.reloadOnChange)?e.reloadOnChange.forEach(r):("string"==typeof e.reloadOnChange.watch?r(e.reloadOnChange.watch):e.reloadOnChange.watch.forEach(r),e.reloadOnChange.ignore&&("string"==typeof e.reloadOnChange.ignore?r(e.reloadOnChange.ignore):e.reloadOnChange.ignore.forEach(r)))}e.log&&e.log.fileName&&t("The debug adapter can't write a log file in a remote workspace")(e.log.fileName),"launch"===e.request&&(e.file&&t("Firefox can't open a file in a remote workspace")(e.file),e.profileDir&&t("Firefox can't have its profile in a remote workspace")(e.profileDir))}}function W(r){const n=new m,o=new C(B),i=new N;r.subscriptions.push(e.window.registerTreeDataProvider("extension.firefox.loadedScripts",n)),r.subscriptions.push(e.debug.registerDebugConfigurationProvider("firefox",i)),r.subscriptions.push(e.commands.registerCommand("extension.firefox.reloadAddon",(()=>B("reloadAddon")))),r.subscriptions.push(e.commands.registerCommand("extension.firefox.toggleSkippingFile",(e=>B("toggleSkippingFile",e)))),r.subscriptions.push(e.commands.registerCommand("extension.firefox.openScript",V)),r.subscriptions.push(e.commands.registerCommand("extension.firefox.addPathMapping",x)),r.subscriptions.push(e.commands.registerCommand("extension.firefox.addFilePathMapping",x)),r.subscriptions.push(e.commands.registerCommand("extension.firefox.addNullPathMapping",w)),r.subscriptions.push(e.commands.registerCommand("extension.firefox.addNullFilePathMapping",w)),r.subscriptions.push(e.commands.registerCommand("extension.firefox.enablePopupAutohide",(()=>o.setPopupAutohide(!0)))),r.subscriptions.push(e.commands.registerCommand("extension.firefox.disablePopupAutohide",(()=>o.setPopupAutohide(!1)))),r.subscriptions.push(e.commands.registerCommand("extension.firefox.togglePopupAutohide",(()=>o.togglePopupAutohide()))),r.subscriptions.push(e.commands.registerCommand("extension.firefox.pathMappingWizard",(()=>async function(e){const r=t().window.activeTextEditor;if(!r)return void t().window.showErrorMessage("There is no active text editor");const n=t().debug.activeDebugSession;if(!n)return void t().window.showErrorMessage("There is no active debug session");if("firefox"!==n.type)return void t().window.showErrorMessage('The active debug session is not of type "firefox"');const o=t().workspace.workspaceFolders;if(!o)return void t().window.showErrorMessage("There is no open folder");const i=E(o,n);if(!i)return void t().window.showErrorMessage(`Couldn't find configuration for active debug session "${n.name}"`);const s=e.getSourceUrls(n.id);if(!s)return void t().window.showErrorMessage("Couldn't load the sources of the active debug session");if(0===s.length)return void t().window.showWarningMessage("Firefox didn't load any sources in the active debug session yet");const a=R(r.document.uri),c=await P(a,s,n.workspaceFolder);if(c)await O(i,c.url,c.path)&&(await T(i.workspaceFolder),t().window.showWarningMessage("Configuration was modified - please restart your debug session for the changes to take effect"));else{const e=r.document.uri.path.split("/").pop();t().window.showWarningMessage(`Firefox hasn't loaded any file named "${e}"`)}}(n)))),r.subscriptions.push(e.debug.onDidReceiveDebugSessionCustomEvent((e=>function(e,r,n){if("firefox"===e.session.type)switch(e.event){case"threadStarted":r.addThread(e.body,e.session.id);break;case"threadExited":r.removeThread(e.body.id,e.session.id);break;case"newSource":r.addSource(e.body,e.session.id);break;case"removeSources":r.removeSources(e.body.threadId,e.session.id);break;case"popupAutohide":n.enableButton(e.body.popupAutohide);break;case"unknownSource":!async function(e,r,n){const o=t().workspace.workspaceFolders;if(!o)return;const i=E(o,r);if(!i)return;const s=n.getSourceUrls(r.id);if(!s||0===s.length)return;const a=await P(e,s,r.workspaceFolder);a&&"Yes"===await t().window.showInformationMessage("This file's path isn't mapped to any url that was loaded by Firefox. Either this file hasn't been loaded by Firefox yet or your debug configuration needs a pathMapping for this file - do you think the file has already been loaded and want to let the Path Mapping Wizard try to create a pathMapping for you?","Yes","No")&&await O(i,a.url,a.path)&&(await T(i.workspaceFolder),t().window.showWarningMessage("Configuration was modified - please restart your debug session for the changes to take effect"))}(e.body,e.session,r)}}(e,n,o)))),r.subscriptions.push(e.debug.onDidStartDebugSession((e=>function(e,t){"firefox"===e.type&&(t.addSession(e),L++)}(e,n)))),r.subscriptions.push(e.debug.onDidTerminateDebugSession((e=>function(e,t,r){"firefox"===e.type&&(t.removeSession(e.id),L--,0===L&&r.disableButton())}(e,n,o))))}async function B(t,r){let n=e.debug.activeDebugSession;if(n&&"firefox"===n.type)return await n.customRequest(t,r);n?e.window.showErrorMessage('The active debug session is not of type "firefox"'):e.window.showErrorMessage("There is no active debug session")}let L=0;async function V(t){let r;r=i()(t)?e.Uri.parse(t):e.Uri.file(t);const n=await e.workspace.openTextDocument(r);e.window.showTextDocument(n)}})(),module.exports=n})();
//# sourceMappingURL=extension.bundle.js.map